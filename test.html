<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <title>Swiper demo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1" />
  <!-- Link Swiper's CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css" />
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

  <!-- Demo styles -->
  <style>
    .slider {
      position: relative;
      overflow: hidden;
      border:1px solid green;
      height: 300px;
      width:100%;
    }

    .slider-container {
      position: absolute;
      width:100%;
      height:200px;
      top:0;
      right:0;
      display: flex;
      border:1px solid red;
      transition: transform 0.5s ease;
    }

    .slider-item {
    /*   width:100px; */
      height:200px;
      background-color: #dddddd;
      flex: 0 0 calc(100% / 3);
      margin-right: 10px;
    }

    .slider-item:last-child {
      margin-right: 0;
    }

    .slider-nav {
      position: absolute;
      top: 50%;
      left: 0;
      width: 100%;
      transform: translateY(-50%);
    }

    .slider-prev,
    .slider-next {
      display: inline-block;
      padding: 10px;
      color: #fff;
      background-color: rgba(0, 0, 0, 0.5);
      cursor: pointer;
    }

    .slider-prev {
      float: left;
    }

    .slider-next {
      float: right;
    }


  </style>
</head>

<body>
  <div class="slider">
    <div class="slider-container">
      <div class="slider-item" data-slide-number="1" style="background-color: #FF0000;">1</div>
      <div class="slider-item" data-slide-number="2" style="background-color: #FFA500;">2</div>
      <div class="slider-item" data-slide-number="3" style="background-color: #FFFF00;">3</div>
      <div class="slider-item" data-slide-number="4" style="background-color: #008000;">4</div>
      <div class="slider-item" data-slide-number="5" style="background-color: #0000FF;">5</div>
      <div class="slider-item" data-slide-number="6" style="background-color: #4B0082;">6</div>
      <div class="slider-item" data-slide-number="7" style="background-color: #EE82EE;">7</div>
      <div class="slider-item" data-slide-number="8" style="background-color: #000000; color: #FFFFFF;">8</div>
    </div>
    <div class="slider-nav">
      <div class="slider-prev"><i class="fas fa-chevron-left"></i></div>
      <div class="slider-next"><i class="fas fa-chevron-right"></i></div>
    </div>
  </div>
  

  <!-- Initialize Swiper -->
  <script>
    $(document).ready(function() {
  var container = $(".slider-container");
  var items = $(".slider-item");
  var itemCount = items.length; // 總共有8個
  var itemWidth = items.outerWidth(true); // slide的寬度
  // var visibleItems = 1; 
  // var visibleWidth = visibleItems * itemWidth;
   var scrollWidth = (itemCount - 2 ) * itemWidth;
   console.log(itemWidth);
   console.log(itemCount);
   console.log(scrollWidth);
  var currentPosition = -itemWidth;
  
   $(container).css('right', - itemWidth + 'px');
  

  $(".slider-prev").click(function() {
    if (currentPosition > -itemWidth) {
      currentPosition -= itemWidth;
      console.log(currentPosition);
      container.animate({right: currentPosition + "px"}, 500);
    }
  });
  
  $(".slider-next").click(function() {
    if (currentPosition < scrollWidth) {
      currentPosition += itemWidth;
      console.log(currentPosition);
      container.animate({right: currentPosition + "px"}, 500);
    }
  });
});


  </script>
</body>

</html>
